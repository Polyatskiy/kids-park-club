# üîç –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∞—É–¥–∏—Ç Sitemap –∏ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ Google

**–î–∞—Ç–∞ –∞—É–¥–∏—Ç–∞:** 2025-01-27  
**–ü—Ä–æ–µ–∫—Ç:** kids-park-club (Next.js App Router + next-intl)  
**–î–æ–º–µ–Ω:** https://www.kids-park.club (canonical), https://kids-park.club (—Ä–µ–¥–∏—Ä–µ–∫—Ç)

---

## üìã –ö—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ

**–°—Ç–∞—Ç—É—Å:** –û–±–Ω–∞—Ä—É–∂–µ–Ω–æ **3 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º—ã** –∏ **2 –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö**, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –≤—ã–∑—ã–≤–∞—Ç—å "Couldn't fetch" –≤ Google Search Console.

**–¢–û–ü-–ø—Ä–∏—á–∏–Ω—ã:**
1. ‚ö†Ô∏è **–ö–†–ò–¢–ò–ß–ù–û:** –í–∞–ª–∏–¥–∞—Ü–∏—è URL –≤ sitemap.ts –º–æ–∂–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å www-–≤–µ—Ä—Å–∏–∏ –ø—Ä–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö
2. ‚ö†Ô∏è **–ö–†–ò–¢–ò–ß–ù–û:** –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ base URL –º–µ–∂–¥—É sitemap.ts –∏ robots.ts (–æ–±–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç www, –Ω–æ –≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç)
3. ‚ö†Ô∏è **–ö–†–ò–¢–ò–ß–ù–û:** –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —è–≤–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ sitemap –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –ë–î (—Ö–æ—Ç—è –µ—Å—Ç—å fallback)
4. ‚ö†Ô∏è **–°–†–ï–î–ù–ï:** –í–æ–∑–º–æ–∂–Ω—ã–µ —Ç–∞–π–º–∞—É—Ç—ã –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (—Ç–∞–π–º–∞—É—Ç 8 —Å–µ–∫ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–º)
5. ‚ö†Ô∏è **–ù–ò–ó–ö–û:** –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —è–≤–Ω–æ–≥–æ Content-Type –∑–∞–≥–æ–ª–æ–≤–∫–∞ –¥–ª—è XML (Next.js –¥–æ–ª–∂–µ–Ω –¥–æ–±–∞–≤–ª—è—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

---

## üìä –¢–∞–±–ª–∏—Ü–∞ –ø—Ä–æ–±–ª–µ–º

| –ü—Ä–æ–±–ª–µ–º–∞ | –î–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ | –í–ª–∏—è–Ω–∏–µ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –†–µ—à–µ–Ω–∏–µ |
|----------|----------------|---------|-----------|---------|
| –í–∞–ª–∏–¥–∞—Ü–∏—è URL –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç www | `isValidUrl()` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–æ–ª—å–∫–æ `includes('kids-park.club')` | –ú–æ–∂–µ—Ç –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–µ URL –∏–ª–∏ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –≤–∞–ª–∏–¥–Ω—ã–µ | üî¥ –ö–†–ò–¢–ò–ß–ù–û | –£–ª—É—á—à–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é |
| –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ base URL | `sitemap.ts` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `https://www.kids-park.club`, –Ω–æ –≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–µ —Å—Ç—Ä–æ–≥–∞—è | –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –≤ URL | üî¥ –ö–†–ò–¢–ò–ß–ù–û | –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å base URL |
| –¢–∞–π–º–∞—É—Ç 8 —Å–µ–∫ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–º | `timeoutPromise` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ 8000ms | –ü—Ä–∏ –º–µ–¥–ª–µ–Ω–Ω–æ–π –ë–î sitemap –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å —Ç–æ–ª—å–∫–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ URL | üü° –°–†–ï–î–ù–ï | –£–≤–µ–ª–∏—á–∏—Ç—å –¥–æ 15 —Å–µ–∫ |
| –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —è–≤–Ω–æ–≥–æ Content-Type | Next.js metadata routes –¥–æ–ª–∂–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è—Ç—å, –Ω–æ –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ | Google –º–æ–∂–µ—Ç –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞—Ç—å XML | üü° –°–†–ï–î–ù–ï | –Ø–≤–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫ |
| –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–∑–º–µ—Ä–∞ sitemap | –ù–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –Ω–∞ 50MB/50k URL | –ú–æ–∂–µ—Ç –ø—Ä–µ–≤—ã—Å–∏—Ç—å –ª–∏–º–∏—Ç—ã Google | üü¢ –ù–ò–ó–ö–û | –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É |

---

## üîç –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑

### A) –ì–µ–Ω–µ—Ä–∞—Ü–∏—è sitemap

**–ù–∞–π–¥–µ–Ω–æ:**
- ‚úÖ `app/sitemap.ts` - metadata route (Next.js App Router)
- ‚úÖ `app/robots.ts` - metadata route
- ‚úÖ Runtime: `nodejs` (–ø—Ä–∞–≤–∏–ª—å–Ω–æ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ Supabase)
- ‚úÖ Revalidate: 3600 —Å–µ–∫ (1 —á–∞—Å)
- ‚úÖ Endpoint: `/sitemap.xml` (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π)

**–ü—Ä–æ–±–ª–µ–º—ã:**
1. **–í–∞–ª–∏–¥–∞—Ü–∏—è URL (—Å—Ç—Ä–æ–∫–∞ 14-21):**
   ```typescript
   function isValidUrl(url: string): boolean {
     try {
       const parsed = new URL(url);
       return parsed.protocol === 'https:' && parsed.hostname.includes('kids-park.club');
     } catch {
       return false;
     }
   }
   ```
   - ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç `https:`
   - ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç `kids-park.club` (—Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è www –∏ non-www)
   - ‚ö†Ô∏è **–ù–û:** –ù–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ hostname —Ç–æ—á–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ–∂–∏–¥–∞–µ–º–æ–º—É –¥–æ–º–µ–Ω—É
   - ‚ö†Ô∏è –ú–æ–∂–µ—Ç –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å URL —Å –ø–æ–¥–¥–æ–º–µ–Ω–∞–º–∏ —Ç–∏–ø–∞ `staging.kids-park.club`

2. **Base URL (—Å—Ç—Ä–æ–∫–∞ 24):**
   ```typescript
   const base = "https://www.kids-park.club";
   ```
   - ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç www –≤–µ—Ä—Å–∏—é (canonical)
   - ‚ö†Ô∏è –ù–æ –≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –≤—Å–µ URL –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∏–º–µ–Ω–Ω–æ —ç—Ç–æ—Ç base

### B) –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å sitemap

**–ü—Ä–æ–≤–µ—Ä–∫–∞ middleware (`proxy.ts`):**
- ‚úÖ –°—Ç—Ä–æ–∫–∞ 73: `/sitemap.xml` –∏—Å–∫–ª—é—á–µ–Ω –∏–∑ –æ–±—Ä–∞–±–æ—Ç–∫–∏
- ‚úÖ –°—Ç—Ä–æ–∫–∞ 332: matcher –∏—Å–∫–ª—é—á–∞–µ—Ç `sitemap.xml`
- ‚úÖ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `NextResponse.next()` –¥–ª—è metadata routes

**–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:**
1. **–†–µ–¥–∏—Ä–µ–∫—Ç www ‚Üî non-www:**
   - –ü–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –µ—Å—Ç—å —Ä–µ–¥–∏—Ä–µ–∫—Ç —Å `kids-park.club` –Ω–∞ `www.kids-park.club`
   - Google –º–æ–∂–µ—Ç –Ω–µ —Å–ª–µ–¥–æ–≤–∞—Ç—å —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞–º –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ sitemap
   - **–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ www –≤–µ—Ä—Å–∏—é –≤ GSC

2. **–¢–∞–π–º–∞—É—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:**
   - –¢–∞–π–º–∞—É—Ç 8 —Å–µ–∫—É–Ω–¥ (—Å—Ç—Ä–æ–∫–∞ 67) –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–º –ø—Ä–∏ –º–µ–¥–ª–µ–Ω–Ω–æ–π –ë–î
   - –ü—Ä–∏ —Ç–∞–π–º–∞—É—Ç–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ URL
   - **–†–µ—à–µ–Ω–∏–µ:** –£–≤–µ–ª–∏—á–∏—Ç—å –¥–æ 15 —Å–µ–∫—É–Ω–¥

### C) robots.txt

**–ü—Ä–æ–≤–µ—Ä–∫–∞ (`app/robots.ts`):**
- ‚úÖ –£–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ `https://www.kids-park.club/sitemap.xml`
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
- ‚úÖ –ù–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç sitemap

**–ü—Ä–æ–±–ª–µ–º—ã:**
- ‚ùå –ù–µ—Ç —è–≤–Ω–æ–≥–æ —É–∫–∞–∑–∞–Ω–∏—è –æ–±–µ–∏—Ö –≤–µ—Ä—Å–∏–π (www –∏ non-www), –Ω–æ —ç—Ç–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ, –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ www

### D) i18n –∏ —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã

**–ü—Ä–æ–≤–µ—Ä–∫–∞ (`proxy.ts`):**
- ‚úÖ Metadata routes –∏—Å–∫–ª—é—á–µ–Ω—ã –∏–∑ i18n –æ–±—Ä–∞–±–æ—Ç–∫–∏
- ‚úÖ –ù–µ—Ç —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤ –¥–ª—è `/sitemap.xml`
- ‚úÖ –ù–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –ø–æ User-Agent

**–ü—Ä–æ–±–ª–µ–º—ã:**
- ‚ùå –ù–µ—Ç —è–≤–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏, —á—Ç–æ Googlebot –ø–æ–ª—É—á–∞–µ—Ç XML, –∞ –Ω–µ HTML

### E) –°–æ–¥–µ—Ä–∂–∏–º–æ–µ sitemap

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:**
- ‚úÖ –í—Å–µ URL –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ (`https://...`)
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `getLocalizedUrl()` –¥–ª—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏
- ‚úÖ EN –±–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–∞, –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º
- ‚úÖ –ï—Å—Ç—å fallback –Ω–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ URL –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –ë–î

**–ü—Ä–æ–±–ª–µ–º—ã:**
1. **–í–∞–ª–∏–¥–∞—Ü–∏—è URL –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–ª–∏—à–∫–æ–º –º—è–≥–∫–æ–π:**
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–æ–ª—å–∫–æ `includes('kids-park.club')`
   - –ú–æ–∂–µ—Ç –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–µ –ø–æ–¥–¥–æ–º–µ–Ω—ã

2. **–ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–∑–º–µ—Ä–∞:**
   - –ù–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –Ω–∞ 50MB/50k URL –ª–∏–º–∏—Ç
   - –ü—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –º–æ–∂–µ—Ç –ø—Ä–µ–≤—ã—Å–∏—Ç—å –ª–∏–º–∏—Ç—ã

### F) –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü

**–ü—Ä–æ–≤–µ—Ä–∫–∞ (–ø–æ –∫–æ–¥—É):**
- ‚úÖ –ù–µ—Ç `noindex` –Ω–∞ –ø—É–±–ª–∏—á–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö
- ‚úÖ Canonical URLs –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ `getCanonicalUrl()`
- ‚úÖ Hreflang —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —á–µ—Ä–µ–∑ `getHreflangUrls()`

**–ü—Ä–æ–±–ª–µ–º—ã:**
- ‚ùå –ù—É–∂–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ (—Ç—Ä–µ–±—É–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –ø—Ä–æ–¥—É)

---

## üîß –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –§–∏–∫—Å #1: –£–ª—É—á—à–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é URL –≤ sitemap.ts

**–§–∞–π–ª:** `app/sitemap.ts`  
**–°—Ç—Ä–æ–∫–∏:** 14-21, 24

**–¢–µ–∫—É—â–∏–π –∫–æ–¥:**
```typescript
const base = "https://www.kids-park.club";

function isValidUrl(url: string): boolean {
  try {
    const parsed = new URL(url);
    return parsed.protocol === 'https:' && parsed.hostname.includes('kids-park.club');
  } catch {
    return false;
  }
}
```

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –∫–æ–¥:**
```typescript
const base = "https://www.kids-park.club";
const ALLOWED_HOSTNAMES = ['www.kids-park.club', 'kids-park.club']; // –û–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –¥–æ–ø—É—Å—Ç–∏–º—ã

function isValidUrl(url: string): boolean {
  try {
    const parsed = new URL(url);
    // –°—Ç—Ä–æ–≥–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞: —Ç–æ–ª—å–∫–æ https –∏ —Ç–æ–ª—å–∫–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ hostname
    return (
      parsed.protocol === 'https:' &&
      ALLOWED_HOSTNAMES.includes(parsed.hostname) &&
      parsed.hostname.endsWith('kids-park.club') // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
    );
  } catch {
    return false;
  }
}
```

**–ü–æ—á–µ–º—É:** –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ —Ç–æ–ª—å–∫–æ –≤–∞–ª–∏–¥–Ω—ã–µ –¥–æ–º–µ–Ω—ã –ø–æ–ø–∞–¥–∞—é—Ç –≤ sitemap, –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø–æ–¥–¥–æ–º–µ–Ω—ã.

---

### –§–∏–∫—Å #2: –£–≤–µ–ª–∏—á–∏—Ç—å —Ç–∞–π–º–∞—É—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

**–§–∞–π–ª:** `app/sitemap.ts`  
**–°—Ç—Ä–æ–∫–∞:** 67

**–¢–µ–∫—É—â–∏–π –∫–æ–¥:**
```typescript
setTimeout(() => {
  // ...
}, 8000)
```

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –∫–æ–¥:**
```typescript
setTimeout(() => {
  // ...
}, 15000) // –£–≤–µ–ª–∏—á–µ–Ω–æ —Å 8 –¥–æ 15 —Å–µ–∫—É–Ω–¥
```

**–ü–æ—á–µ–º—É:** –î–∞–µ—Ç –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –ë–î, –æ—Å–æ–±–µ–Ω–Ω–æ –ø—Ä–∏ –±–æ–ª—å—à–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ.

---

### –§–∏–∫—Å #3: –î–æ–±–∞–≤–∏—Ç—å —è–≤–Ω—ã–π Content-Type –∑–∞–≥–æ–ª–æ–≤–æ–∫ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–§–∞–π–ª:** `app/sitemap.ts`  
**–î–æ–±–∞–≤–∏—Ç—å –ø–æ—Å–ª–µ —Å—Ç—Ä–æ–∫–∏ 11:**

**–ù–æ–≤—ã–π –∫–æ–¥:**
```typescript
export const revalidate = 3600;
export const runtime = 'nodejs';

// –Ø–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞–µ–º Content-Type –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏–∏ (Next.js –¥–æ–ª–∂–µ–Ω –¥–æ–±–∞–≤–ª—è—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏,
// –Ω–æ —è–≤–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å)
export async function generateMetadata() {
  return {
    contentType: 'application/xml',
  };
}
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** Next.js metadata routes –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π Content-Type, –Ω–æ —è–≤–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ –Ω–µ –ø–æ–≤—Ä–µ–¥–∏—Ç.

---

### –§–∏–∫—Å #4: –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —Ä–∞–∑–º–µ—Ä–∞ sitemap

**–§–∞–π–ª:** `app/sitemap.ts`  
**–î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–¥ `return entries;` (—Å—Ç—Ä–æ–∫–∞ 198):**

**–ù–æ–≤—ã–π –∫–æ–¥:**
```typescript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–æ–≤ Google (50,000 URL, 50MB –Ω–µ—Å–∂–∞—Ç—ã–π)
const MAX_URLS = 50000;
const MAX_SIZE_MB = 50;

if (entries.length > MAX_URLS) {
  console.warn(`Sitemap exceeds URL limit: ${entries.length} > ${MAX_URLS}. Consider splitting into multiple sitemaps.`);
  // –û–±—Ä–µ–∑–∞–µ–º –¥–æ –ª–∏–º–∏—Ç–∞ (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç: —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ > –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ > items)
  entries = entries.slice(0, MAX_URLS);
}

// –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ –≤ –±–∞–π—Ç–∞—Ö —Ç—Ä–µ–±—É–µ—Ç —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ XML,
// —á—Ç–æ –¥–æ—Ä–æ–≥–æ. Google —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç —Ä–∞–∑–±–∏–≤–∞—Ç—å –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ sitemaps –ø—Ä–∏ >10MB.
// –î–ª—è —Ç–µ–∫—É—â–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ (468 URL) —ç—Ç–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ, –Ω–æ –æ—Å—Ç–∞–≤–ª—è–µ–º –ø—Ä–æ–≤–µ—Ä–∫—É.
```

**–ü–æ—á–µ–º—É:** –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–µ–≤—ã—à–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤ Google, –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞–µ—Ç –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Ä–∞–∑–±–∏–µ–Ω–∏—è.

---

### –§–∏–∫—Å #5: –£–ª—É—á—à–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º

**–§–∞–π–ª:** `app/sitemap.ts`  
**–°—Ç—Ä–æ–∫–∏:** 80-83

**–¢–µ–∫—É—â–∏–π –∫–æ–¥:**
```typescript
} catch (error) {
  console.error('Error fetching sitemap data:', error);
  // Continue with static routes only
}
```

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –∫–æ–¥:**
```typescript
} catch (error) {
  // –õ–æ–≥–∏—Ä—É–µ–º –¥–µ—Ç–∞–ª–∏ –æ—à–∏–±–∫–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
  console.error('Error fetching sitemap data:', {
    message: error instanceof Error ? error.message : String(error),
    stack: error instanceof Error ? error.stack : undefined,
    timestamp: new Date().toISOString(),
  });
  // Continue with static routes only - ensure we always return something
  // –≠—Ç–æ –∫—Ä–∏—Ç–∏—á–Ω–æ: –ø—É—Å—Ç–æ–π sitemap –≤—ã–∑—ã–≤–∞–µ—Ç "Couldn't fetch"
}
```

**–ü–æ—á–µ–º—É:** –£–ª—É—á—à–∞–µ—Ç –æ—Ç–ª–∞–¥–∫—É –ø—Ä–æ–±–ª–µ–º —Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π sitemap.

---

## ‚úÖ –ü–ª–∞–Ω –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ—Å–ª–µ —Ñ–∏–∫—Å–æ–≤

### 1. –õ–æ–∫–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (–ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º)

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ TypeScript
npm run build

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ sitemap (–µ—Å–ª–∏ –µ—Å—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä)
curl -I http://localhost:3000/sitemap.xml
curl http://localhost:3000/sitemap.xml | head -20
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø—Ä–æ–¥–µ (–ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è)

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∏ —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤
curl -I https://kids-park.club/sitemap.xml
curl -I https://www.kids-park.club/sitemap.xml
curl -L -I https://kids-park.club/sitemap.xml  # –°–ª–µ–¥–æ–≤–∞—Ç—å —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞–º

# –ü—Ä–æ–≤–µ—Ä–∫–∞ Content-Type
curl -i https://www.kids-park.club/sitemap.xml | grep -i "content-type"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ (–ø–µ—Ä–≤—ã–µ 50 —Å—Ç—Ä–æ–∫)
curl https://www.kids-park.club/sitemap.xml | head -50

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∫ Googlebot
curl -A "Googlebot" -I https://www.kids-park.club/sitemap.xml
curl -A "Googlebot" https://www.kids-park.club/sitemap.xml | head -50

# –ü—Ä–æ–≤–µ—Ä–∫–∞ robots.txt
curl https://www.kids-park.club/robots.txt
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ Google Search Console

1. **–£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–π sitemap** (–µ—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∞):
   - Sitemaps ‚Üí –£–¥–∞–ª–∏—Ç—å `https://kids-park.club/sitemap.xml` (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω –±–µ–∑ www)

2. **–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π sitemap:**
   - URL: `https://www.kids-park.club/sitemap.xml`
   - –ù–∞–∂–∞—Ç—å "Submit"

3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á–µ—Ä–µ–∑ URL Inspection:**
   - –í–≤–µ—Å—Ç–∏: `https://www.kids-park.club/sitemap.xml`
   - –ù–∞–∂–∞—Ç—å "Test Live URL"
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å:
     - ‚úÖ Status: 200 OK
     - ‚úÖ Content-Type: application/xml –∏–ª–∏ text/xml
     - ‚úÖ –°–æ–¥–µ—Ä–∂–∏–º–æ–µ: –≤–∞–ª–∏–¥–Ω—ã–π XML

4. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
   - –ü–æ–¥–æ–∂–¥–∞—Ç—å 24-48 —á–∞—Å–æ–≤
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å: –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å "Success" –≤–º–µ—Å—Ç–æ "Couldn't fetch"
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã—Ö URL: –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å > 0

### 4. –í–∞–ª–∏–¥–∞—Ü–∏—è XML

```bash
# –û–Ω–ª–∞–π–Ω –≤–∞–ª–∏–¥–∞—Ç–æ—Ä
# https://www.xml-sitemaps.com/validate-xml-sitemap.html
# –í–≤–µ—Å—Ç–∏: https://www.kids-park.club/sitemap.xml

# –õ–æ–∫–∞–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω xmllint)
curl https://www.kids-park.club/sitemap.xml | xmllint --noout -
```

### 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö URL –∏–∑ sitemap

```bash
# –í—ã–±—Ä–∞—Ç—å 10-20 URL –∏–∑ sitemap –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
curl -I https://www.kids-park.club/
curl -I https://www.kids-park.club/pl/
curl -I https://www.kids-park.club/coloring
curl -I https://www.kids-park.club/ru/coloring

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≥–æ–ª–æ–≤–∫–∏ –Ω–∞ noindex
curl -I https://www.kids-park.club/ | grep -i "x-robots\|robots"
```

---

## üìù –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### 1. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–ª–µ—Ä—Ç—ã

- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ `/sitemap.xml` (UptimeRobot, Pingdom)
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–ª–µ—Ä—Ç—ã –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (–ª–æ–≥–∏ Vercel/—Å–µ—Ä–≤–µ—Ä–∞)

### 2. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

- –ï—Å–ª–∏ sitemap —Å—Ç–∞–Ω–µ—Ç >10MB, —Ä–∞–∑–±–∏—Ç—å –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ sitemaps:
  - `sitemap-index.xml` (–≥–ª–∞–≤–Ω—ã–π)
  - `sitemap-static.xml` (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã)
  - `sitemap-coloring.xml` (—Ä–∞—Å–∫—Ä–∞—Å–∫–∏)
  - `sitemap-puzzles.xml` (–ø–∞–∑–ª—ã)

### 3. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

- –¢–µ–∫—É—â–∏–π revalidate: 3600 —Å–µ–∫ (1 —á–∞—Å) - –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ
- –ú–æ–∂–Ω–æ —É–≤–µ–ª–∏—á–∏—Ç—å –¥–æ 7200 —Å–µ–∫ (2 —á–∞—Å–∞) –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

### 4. Hreflang –≤ sitemap (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

- –¢–µ–∫—É—â–∏–π sitemap –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç hreflang —Ç–µ–≥–∏
- –≠—Ç–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ, –µ—Å–ª–∏ hreflang —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ HTML
- –î–ª—è —É–ª—É—á—à–µ–Ω–∏—è –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å `<xhtml:link rel="alternate">` –≤ sitemap

---

## üéØ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

1. **–ö–†–ò–¢–ò–ß–ù–û (—Å–¥–µ–ª–∞—Ç—å –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ):**
   - ‚úÖ –§–∏–∫—Å #1: –£–ª—É—á—à–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é URL
   - ‚úÖ –§–∏–∫—Å #2: –£–≤–µ–ª–∏—á–∏—Ç—å —Ç–∞–π–º–∞—É—Ç

2. **–í–ê–ñ–ù–û (—Å–¥–µ–ª–∞—Ç—å –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è):**
   - ‚úÖ –§–∏–∫—Å #4: –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —Ä–∞–∑–º–µ—Ä–∞
   - ‚úÖ –§–∏–∫—Å #5: –£–ª—É—á—à–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

3. **–û–ü–¶–ò–û–ù–ê–õ–¨–ù–û (–º–æ–∂–Ω–æ –æ—Ç–ª–æ–∂–∏—Ç—å):**
   - ‚ö™ –§–∏–∫—Å #3: –Ø–≤–Ω—ã–π Content-Type (Next.js –¥–µ–ª–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

---

## üìä –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Ñ–∏–∫—Å–æ–≤:
- ‚úÖ Sitemap –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ `https://www.kids-park.club/sitemap.xml`
- ‚úÖ –í—Å–µ URL –≤–∞–ª–∏–¥–∏—Ä—É—é—Ç—Å—è —Å—Ç—Ä–æ–≥–æ
- ‚úÖ Google Search Console –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "Success" –≤–º–µ—Å—Ç–æ "Couldn't fetch"
- ‚úÖ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã—Ö URL > 0
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ XML

---

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
1. –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ñ–∏–∫—Å—ã #1, #2, #4, #5
2. –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å –Ω–∞ –ø—Ä–æ–¥
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ curl
4. –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π sitemap –≤ GSC
5. –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å 24-48 —á–∞—Å–æ–≤

